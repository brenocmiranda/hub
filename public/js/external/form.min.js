jQuery(function(t){let n=[],a={validations:{isEmail:function(t){return/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(t)},isPhone:function(t){return/^(\()?\d{2}(\))?\s?\d{4,5}(\-|\.)?\d{4}$/i.test(t)},setDisabled:function(n,a){t(n).find("input, select, textarea, button").each(function(){t(this).prop("disabled",a),t(this).attr("disabled",a)})}},masks:{phone:function(t){var n=t.replace(/\D/g,"");return(n=n.replace(/^0/,"")).length>10?n.replace(/^(\d\d)(\d{5})(\d{4}).*/,"($1) $2-$3"):n.length>5?n.replace(/^(\d\d)(\d{4})(\d{0,4}).*/,"($1) $2-$3"):n.length>2?n.replace(/^(\d\d)(\d{0,5})/,"($1) $2"):n.replace(/^(\d*)/,"($1")},removeNonLetters:function(t){return t.replace(/[^a-zA-Z]/g,"")},removeSpaces:function(t){if(32==e.which)return!1}},hub:{integration:function(n){return new Promise((a,o)=>{t.ajax({url:"https://hub.komuh.com/api/leads/lps",type:"POST",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer 4|GAoYty9d37SKV2EMUhRWG2jKQ3erJFjqP5vWkd6u2d82e33a")},data:n,success:function(t){a(t)},error:function(t,n,a){o(console.log(t))}})})}},loading:{script:function(t,n={},a=null){let o=document,r=o.createElement("script");for(let s in r.type="text/javascript",n)r[s]=n[s];return r.src=t,a&&(r.onload=a),o.getElementsByTagName("body")[0].appendChild(r)},isInViewport:function(n){let a=n,o=a.offset().top,r=o+a.outerHeight(),s=t(window),l=s.height(),d=s.scrollTop();return r>d&&o<d+l},checkInView:function(){t("section, .inview").each(function(){a.loading.isInViewport(t(this))&&t(this).addClass("is-inview")})},patrimar:function(){t(".loading").fadeOut()},initGTMOnEvent:function(t){a.loading.initGTM(),t.currentTarget.removeEventListener(t.type,a.loading.initGTMOnEvent)},initGTM:function(){if(window.gtmDidInit)return!1;window.gtmDidInit=!0,t.getScript("https://www.googletagmanager.com/gtm.js?id="+window.ID_GTM,function(){dataLayer.push({event:"gtm.js","gtm.start":new Date().getTime(),"gtm.uniqueEventId":0})})},chatPatrimar:function(){var n=window.location.toString().split("?");if(n.length>1){var a=n[1].split("&");for(i in a){var o=a[i].split("=");null===sessionStorage.getItem(o[0])&&sessionStorage.setItem(o[0],decodeURIComponent(o[1]))}}var r=sessionStorage.getItem("utm_source")||"",s=sessionStorage.getItem("utm_campaign")||"",l=sessionStorage.getItem("utm_medium")||"";t.getScript("https://www.patrimar.com.br/hotsites/integracoes/chat.php?empreendimento="+window.building+"&url="+window.location.pathname+"&utm_source="+r+"&campanha="+s+"&midia="+l,function(){XRM_Chat.open()})},recaptcha:function(n){let a=this,o=t(this).parents("form"),r=o.find(".submit-btn");n||t.getScript("//www.google.com/recaptcha/api.js",function(){n=!0,o.find("input").each((n,a)=>t(a).off(".rcp")),setTimeout(()=>{t(".submit-btn").prop("disabled",!0),"pp"===a.name&&a.checked&&r.removeProp("disabled")},100)})},initColorboxVideo:function(){t('a[href*="vimeo.com"]').on("click",function(t){t.preventDefault();let n=/vimeo.*\/(\d+)/i.exec(this.href);n&&showColorboxVideo({href:"//player.vimeo.com/video/"+n[1]+"?autoplay=1",innerHeight:402})}),t('a[href*="youtube.com"]').on("click",function(t){t.preventDefault();let n=this.href.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);n&&11==n[7].length&&showColorboxVideo({href:"//www.youtube.com/embed/"+n[7]+"?autoplay=1"})})},showColorboxVideo:function(n){let a=t.extend({iframe:!0,innerWidth:960,innerHeight:540,maxWidth:"90%",maxHeight:"90%",fixed:!0},n);t.colorbox(a)},onetrust:function(){let n="https://cdn.cookielaw.org/consent/"+window.oneTrust+"/OtAutoBlock.js";t.getScript(n,function(){var t=document.createElement("script");t.type="text/javascript",t.setAttribute("data-domain-script",window.oneTrust),t.async=!0,t.src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js";var n=document.getElementsByTagName("body")[0].appendChild(t,n);function a(){}})},initGallery:function(o){t.getJSON(o,function(o){n=o;let r=t("#gallery-nav"),s=[];t.each(o.galerias,function(t,n){s.push(`<a href="#" class="btn" data-gallery="${n.slug}">${n.name}</a>`)}),r.prepend(s.join("\n")),r.find("a:first-child").addClass("active"),a.loading.renderGallery(o.galerias[0].slug)}),t(document).on("click","[data-gallery]",function(n){n.preventDefault(),a.loading.renderGallery(t(this).data("gallery")),t("#gallery-nav").find("a.active").removeClass("active"),t(this).addClass("active")})},renderGallery:function(a){let o=n.galerias.find(t=>t.slug===a);if(!o)return;let r=o.images;if(!r.length)return;let s=t("#gallery-full"),l=n.path+o.slug+"/";s.hasClass("slick-initialized")&&s.slick("unslick"),s.html(""),$render=[],r.map(function(t){let n=`<a href="${l+"1920/"+t.src}" class="slide-item" title="${t.alt}"> <picture> <source srcset="${l+"320/"+t.src}" media="(max-width: 320px)" /> <source srcset="${l+"640/"+t.src}" media="(max-width: 640px)" /> <source srcset="${l+"960/"+t.src}" media="(max-width: 1200px)" /> <img src="${l+"1280/"+t.src}" alt="${t.alt}" loading="lazy" width="1280" height="720" /> </picture> <p>${t.alt}</p> </a>`;$render.push(n)}),s.append($render.join("\n")),s.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,lazyLoad:"ondemand"}),t('a[href$=".jpg"], a[href$=".png"], a[href$=".gif"], a[href$=".webp"]').colorbox({maxWidth:"90%",maxHeight:"90%",fixed:!0,rel:"slide"})}}};window.formSubmit=function(n){setTimeout(function(){t("form.sending-form").find(".submit-btn").prop("disabled",!0)},10)},t(".is-phone").on("keyup",function(t){var n=a.masks.mphone(this.value);n!=this.value&&(this.value=n)}),t(".is-text").on("keyup",function(t){var n=a.masks.removeNonLetters(this.value);n!=this.value&&(this.value=n)}),t(".no-space").on("keypress",function(t){a.masks.removeSpaces()}),t('[name="pp"]').on("change",function(){t(this).parents("form").find(".submit-btn").prop("disabled",!this.checked)}),window.dataLayer=window.dataLayer||[],t(".submit-btn").prop("disabled",!0).on("click",function(n){n.preventDefault();let o=t(this),r=o.parents("form"),s=r.find(".form-output"),l=r.find('[name="nome"]').val().trim(),d=r.find('[name="email"]').val().trim(),u=r.find('[name="telefone"]').val().trim(),c=r.find('[name="empreendimento"]').val().trim(),m=r.find('[name="sobrenome"]').length>0?r.find('[name="sobrenome"]').val().trim():"",f=r.find('[name="messagem"]').length>0?r.find('[name="messagem"]').val().trim():"",$=r.find('[name="origin"]').length>0?r.find('[name="origin"]').val().trim():"",p=r.find('[name="com"]').length>0?r.find('[name="com"]').val().trim():"",h=r.find('[name="pp"]'),g=location.search?location.search.replace("?",""):"",F=location.href;if(!h.is(":checked")){alert("Aceite da Pol\xedtica de Privacidade \xe9 obrigat\xf3rio.");return}if(""==l||""==d||""==u||""==c){alert("Preencha todos os campos.");return}if(!a.validations.isEmail(d)){alert("O e-mail fornecido n\xe3o parece v\xe1lido.");return}if(!a.validations.isPhone(u)){alert("O telefone fornecido n\xe3o parece v\xe1lido.");return}s.length||(r.prepend('<div class="form-output"></div>'),s=r.find(".form-output")),s.html("").removeClass("is-error is-success"),o.addClass("sending"),r.addClass("sending-form"),a.validations.setDisabled(r,!0);let v={nome:l,sobrenome:m,email:d,telefone:u,mensagem:f,empreendimento:c,url_params:g,url:F,origin:$,com:p};console.log("form data",v),a.hub.integration(v).then(function(n){console.log("sendmail",n),n.status&&(o.removeClass("sending"),r[0].reset(),dataLayer.push({event:"conversao_sucesso"}),t(document).trigger("form-sended",[r])),a.validations.setDisabled(r,!1),t("form.sending-form .submit-btn").attr("disabled",!0),r.removeClass("sending-form"),s.html(`<p>${n.status?"Dados enviados com sucesso.":"Erro ao enviar seus dados. Verifique e tente novamente."}</p>`).addClass(n.status?"is-success":"is-error")})}),window.dataLayer=window.dataLayer||[],t(".submit-btn").prop("disabled",!0).on("click",function(n){n.preventDefault();let o=t(this),r=o.parents("form"),s=r.find(".form-output"),l=r.find('[name="nome"]').val().trim(),d=r.find('[name="email"]').val().trim(),u=r.find('[name="telefone"]').val().trim(),c=r.find('[name="empreendimento"]').val().trim(),m=r.find('[name="sobrenome"]').length>0?r.find('[name="sobrenome"]').val().trim():"",f=r.find('[name="messagem"]').length>0?r.find('[name="messagem"]').val().trim():"",$=r.find('[name="origin"]').length>0?r.find('[name="origin"]').val().trim():"",p=r.find('[name="com"]').length>0?r.find('[name="com"]').val().trim():"",h=r.find('[name="pp"]'),g=location.search?location.search.replace("?",""):"",F=location.href;if(!h.is(":checked")){alert("Aceite da Pol\xedtica de Privacidade \xe9 obrigat\xf3rio.");return}if(""==l||""==d||""==u||""==c){alert("Preencha todos os campos.");return}if(!a.validations.isEmail(d)){alert("O e-mail fornecido n\xe3o parece v\xe1lido.");return}if(!a.validations.isPhone(u)){alert("O telefone fornecido n\xe3o parece v\xe1lido.");return}s.length||(r.prepend('<div class="form-output"></div>'),s=r.find(".form-output")),s.html("").removeClass("is-error is-success"),o.addClass("sending"),r.addClass("sending-form"),a.validations.setDisabled(r,!0);let v={nome:l,sobrenome:m,email:d,telefone:u,mensagem:f,empreendimento:c,url_params:g,url:F,origin:$,com:p};console.log("form data",v),a.hub.integration(v).then(function(n){console.log("sendmail",n),n.status&&(o.removeClass("sending"),r[0].reset(),dataLayer.push({event:"conversao_sucesso"}),t(document).trigger("form-sended",[r])),a.validations.setDisabled(r,!1),t("form.sending-form .submit-btn").attr("disabled",!0),r.removeClass("sending-form"),s.html(`<p>${n.status?"Dados enviados com sucesso.":"Erro ao enviar seus dados. Verifique e tente novamente."}</p>`).addClass(n.status?"is-success":"is-error")})}),a.loading.checkInView(),t(window).on("resize scroll",a.loading.checkInView),t(".loading").length&&setTimeout(()=>{a.loading.patrimar()},3500),window.ID_GTM&&(document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{a.loading.initGTM()},3500)}),t(document).on("scroll mousemove touchstart click",a.loading.initGTMOnEvent)),window.building&&t(".chat").length&&t(".chat").on("click",function(){a.loading.chatPatrimar()}),t("input").on("focus.rcp",function(){a.loading.recaptcha(!1)}),window.useColorboxVideo&&setTimeout(()=>{t().colorbox?a.loading.initColorboxVideo():a.loading.script("https://hub.komuh.com/js/external/colorbox.min.js",{async:!0,defer:!0},function(){console.log("Colorbox loaded"),a.loading.initColorboxVideo()})},3500),window.oneTrust&&setTimeout(()=>{a.loading.onetrust()},3500),window.galleryJson&&setTimeout(()=>{!t().slick&&t().colorbox?a.loading.script("https://hub.komuh.com/js/external/slick.min.js",{async:!0,defer:!0},function(){console.log("Slick loaded"),a.loading.script("colorbox.min.js",{async:!0,defer:!0},function(){console.log("Colorbox loaded"),a.loading.initGallery(window.galleryJson)})}):t().slick?t().colorbox?a.loading.initGallery():a.loading.script("https://hub.komuh.com/js/external/colorbox.min.js",{async:!0,defer:!0},function(){console.log("Colorbox loaded"),a.loading.initGallery(window.galleryJson)}):a.loading.script("https://hub.komuh.com/js/external/slick.min.js",{async:!0,defer:!0},function(){console.log("Slick loaded"),a.loading.initGallery(window.galleryJson)})},3500)});